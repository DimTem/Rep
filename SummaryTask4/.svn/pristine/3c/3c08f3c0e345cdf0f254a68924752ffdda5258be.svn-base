package ua.nure.bratiuschenko.SummaryTask4.utils;


import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import ua.nure.bratiuschenko.SummaryTask4.utils.Connector;

public class CheckUser {
	public static final String SQL_CHECK_USER = "SELECT * FROM `users`";

	public static String check(String login, String pass) {
		Connector connector = new Connector(Connector.admUser,
				Connector.admPass);
		Statement st = null;
		String privs = null;
		try {
			st = connector.getStatement();
			ResultSet rs = st.executeQuery(SQL_CHECK_USER);
			while (rs.next()) {
				if (rs.getString(1).equals(login)
						&& rs.getString(2).equals(pass)) {
					privs = rs.getString(3);
				}
			}
		} catch (SQLException e) {
			System.err.println("DB read exc: " + e);
		} finally {
			if (st != null) {
				connector.closeStatement(st);
			}
		}
		return privs;
	}

}
